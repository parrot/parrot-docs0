<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
    "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>  
    <HEAD>
        <TITLE>A Parrot Bytecode File</TITLE>
        <LINK REL="stylesheet" TYPE="text/css" 
            HREF="../../../resources/perl.css" 
            TITLE="Default CSS2" media="screen">
    </HEAD>
    <BODY> 
        <A NAME="_top"></A>
        <TABLE CELLSPACING="0" WIDTH="730">
            <TR>
                <TD WIDTH="100%" COLSPAN="2" CLASS="BANNER">parrotcode: <SPAN CLASS="title">A Parrot Bytecode File</SPAN></TD>
            </TR>
            <TR>
                <TD WIDTH="100%" COLSPAN="2"  ID="NAV" STYLE="border-bottom: 1px solid #191970;">
                    <a href="../../../html/index.html">Contents</a> | <a href="../../../html/perl.html">Perl Modules</a>
                </TD>
            </TR>
        </TABLE>
        <DIV CLASS="pod">

<h1><a name="NAME"
>NAME <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h1>

<p>Parrot::PackFile &#45; A Parrot Bytecode File</p>

<h1><a name="SYNOPSIS"
>SYNOPSIS <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h1>

<pre lang='und' xml:lang='und'>  use Parrot::PackFile;</pre>

<h1><a name="DESCRIPTION"
>DESCRIPTION <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h1>

<p><code lang='und' xml:lang='und'>Parrot::PackFile</code> contains all the functions required to process a Parrot bytecode file. It is not intended to understand the contents of the bytecode file&#39;s segments, but merely to dissect and reconstruct data from the various segments. See <em lang='und' xml:lang='und'><a href="../../docs/parrotbyte.pod.html">docs/parrotbyte.pod</a></em> for information about the structure of the frozen bycode.</p>

<h2><a name="Class_Methods"
>Class Methods <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h2>

<dl>
<dt><a name="new()"
><b><code lang='und' xml:lang='und'>new()</b></code></a></dt><p class="pad"></p>

<dd>Returns a new instance.</dd><p class="pad"></p>
</dl>

<h2><a name="Instance_Methods"
>Instance Methods <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h2>

<dl>
<dt><a name="magic()"
><b><code lang='und' xml:lang='und'>magic()</b></code></a></dt><p class="pad"></p>

<dd>Get the magic number.</dd><p class="pad"></p>

<dt><a name="wordsize()"
><b><code lang='und' xml:lang='und'>wordsize()</b></code></a></dt><p class="pad"></p>

<dd>Returns the packfiles wordsize.</dd><p class="pad"></p>

<dt><a name="byteorder()"
><b><code lang='und' xml:lang='und'>byteorder()</b></code></a></dt><p class="pad"></p>

<dd>Returns the packfiles byte order.</dd><p class="pad"></p>

<dt><a name="major()"
><b><code lang='und' xml:lang='und'>major()</b></code></a></dt><p class="pad"></p>

<dd>Returns the packfiles major version number.</dd><p class="pad"></p>

<dt><a name="minor()"
><b><code lang='und' xml:lang='und'>minor()</b></code></a></dt><p class="pad"></p>

<dd>Returns the packfiles minor version number.</dd><p class="pad"></p>

<dt><a name="flags()"
><b><code lang='und' xml:lang='und'>flags()</b></code></a></dt><p class="pad"></p>

<dd>Returns the packfiles flags.</dd><p class="pad"></p>

<dt><a name="pad()"
><b><code lang='und' xml:lang='und'>pad()</b></code></a></dt><p class="pad"></p>

<dd>Returns an MD5 hex fingerprint of the ops.</dd><p class="pad"></p>

<dt><a name="floattype()"
><b><code lang='und' xml:lang='und'>floattype()</b></code></a></dt><p class="pad"></p>

<dd>Returns the packfiles float type.</dd><p class="pad"></p>

<dt><a name="opcodetype()"
><b><code lang='und' xml:lang='und'>opcodetype()</b></code></a></dt><p class="pad"></p>

<dd>Returns the packfiles opcode type.</dd><p class="pad"></p>

<dt><a name="fixup_table()"
><b><code lang='und' xml:lang='und'>fixup_table()</b></code></a></dt><p class="pad"></p>

<dd>Returns an instance of <code lang='und' xml:lang='und'><a href='PackFile/FixupTable.pm.html'>Parrot::PackFile::FixupTable</a></code>.</dd><p class="pad"></p>

<dt><a name="const_table()"
><b><code lang='und' xml:lang='und'>const_table()</b></code></a></dt><p class="pad"></p>

<dd>Returns an instance of <code lang='und' xml:lang='und'><a href='PackFile/ConstTable.pm.html'>Parrot::PackFile::ConstTable</a></code>.</dd><p class="pad"></p>

<dt><a name="byte_code($code)"
><b><code lang='und' xml:lang='und'>byte_code($code)</b></code></a></dt><p class="pad"></p>

<dt><a name="byte_code()"
><b><code lang='und' xml:lang='und'>byte_code()</b></code></a></dt><p class="pad"></p>

<dd>Gets/sets the byte code.</dd><p class="pad"></p>

<dt><a name="unpack($string)"
><b><code lang='und' xml:lang='und'>unpack($string)</b></code></a></dt><p class="pad"></p>

<dd>Unpack the contents from the string.</dd><p class="pad"></p>

<pre lang='und' xml:lang='und'>    Magic: 4&#45;byte signed integer
    Fixup: 4&#45;byte length N + N bytes
    Const: 4&#45;byte length N + N bytes
    BCode: N bytes</pre>

<dd>TODO &#45; Now that we have a portable bytecode format, with file specified wordsize, this routine is inherently broken since it uses the native sizes.</dd><p class="pad"></p>

<dt><a name="unpack_filehandle($filehandle)"
><b><code lang='und' xml:lang='und'>unpack_filehandle($filehandle)</b></code></a></dt><p class="pad"></p>

<dd>Unpack the contents from the filehandle.</dd><p class="pad"></p>

<dt><a name="unpack_file($file)"
><b><code lang='und' xml:lang='und'>unpack_file($file)</b></code></a></dt><p class="pad"></p>

<dd>Unpack the contents from the named file.</dd><p class="pad"></p>

<dt><a name="pack()"
><b><code lang='und' xml:lang='und'>pack()</b></code></a></dt><p class="pad"></p>

<dd>Pack the contents to a string.</dd><p class="pad"></p>

<dt><a name="pack_filehandle($filehandle)"
><b><code lang='und' xml:lang='und'>pack_filehandle($filehandle)</b></code></a></dt><p class="pad"></p>

<dd>Pack the contents to a string and write it to the filehandle.</dd><p class="pad"></p>

<dt><a name="pack_file($file)"
><b><code lang='und' xml:lang='und'>pack_file($file)</b></code></a></dt><p class="pad"></p>

<dd>Pack the contents to a string and write it to the named file.</dd><p class="pad"></p>
</dl>

<h1><a name="SEE_ALSO"
>SEE ALSO <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h1>

<dl>
<dt><a name="Parrot::PackFile::ConstTable"
><b><code lang='und' xml:lang='und'><a href='PackFile/ConstTable.pm.html'>Parrot::PackFile::ConstTable</a></b></code></a></dt><p class="pad"></p>

<dt><a name="Parrot::PackFile::Constant"
><b><code lang='und' xml:lang='und'><a href='PackFile/Constant.pm.html'>Parrot::PackFile::Constant</a></b></code></a></dt><p class="pad"></p>

<dt><a name="Parrot::PackFile::FixupTable"
><b><code lang='und' xml:lang='und'><a href='PackFile/FixupTable.pm.html'>Parrot::PackFile::FixupTable</a></b></code></a></dt><p class="pad"></p>

<dt><a name="build_tools/pbc2c.pl"
><em lang='und' xml:lang='und'><a href="../../build_tools/pbc2c.pl.html">build_tools/pbc2c.pl</a></em></a></dt><p class="pad"></p>
</dl>

<h1><a name="HISTORY"
>HISTORY <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h1>

<p>Author: Gregor N. Purdy &#60;gregor@focusresearch.com&#62;</p>

<p>Gregor writes:</p>

<p><i>&#34;Packfile&#34; is a proposed term based on the fact that the file contains more than just byte code, and another language (Java) calls its binary files by a broader notion of what&#39;s in them (Class Files). Since Perl has packages, and since we use <code lang='und' xml:lang='und'>pack()</code> to write them, we&#39;ll call them PackFiles (at least for now).</i></p>

<p><i>That does, however, beg the question of file extension. Should we name the files &#34;foo.pack&#34; instead of &#34;foo.pbc&#34;?</i></p>
        </DIV>
        <P>
        <TABLE BORDER="0" WIDTH="730" CELLSPACING="0" CELLPADDING="0">
            <TR ALIGN="RIGHT">
                <TD WIDTH="590" VALIGN="MIDDLE">
                    <BR>
                    <DIV CLASS="FOOTER">
                        <DIV ALIGN="LEFT">
                        </DIV>
                    </DIV>
                </TD>
                <TD VALIGN="middle" ALIGN="center">
                    <IMG BORDER=0
                        SRC="../../../resources/parrot.small.png" 
                        ALT="parrot">
                </TD>
            </TR>
        </TABLE>
    </BODY>
</HTML>
